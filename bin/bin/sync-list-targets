#!/bin/bash

# list available sync targets from $CAD_ETC_PATH/sync/targets

if [ ! -d $CAD_ETC_PATH/sync/targets ] ; then 
    echo "ERROR: no targets found!"
    exit 1
fi 

echo "source dir          | dest dir           | command       | options"
echo "--------------------|--------------------|---------------|---------------"

for f in $CAD_ETC_PATH/sync/targets/*.cfg ; do
    . $f
    printf " %-18s | %-18s | %-13s | %-23s" "$CAD_SYNC_TARGET_SOURCE_DIR" \
        "$CAD_SYNC_TARGET_DEST_DIR" \
        "$CAD_SYNC_TARGET_COMMAND" \
        "$CAD_SYNC_TARGET_OPTS"
done 